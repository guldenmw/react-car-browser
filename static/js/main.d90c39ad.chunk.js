(this["webpackJsonpwarp-assessment"]=this["webpackJsonpwarp-assessment"]||[]).push([[0],{105:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(13),c=t.n(i),l=(t(97),t(21)),o=t(148),u=t(145),s=t(141),d=t(55),v=t(139),p=t(140),f=t(142),m=t(143),h=t(75),b=t.n(h),g=t(18),x=t(19),E=t(149),y=t(71),j=t.n(y);function w(){var e=Object(g.a)(["\n  .MuiPaper-root {\n    min-width: 250px;\n    padding: 10px 0 10px 20px;\n  }\n  \n  .cart-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    \n    p {\n      padding-right: 15px;\n    }\n  }\n"]);return w=function(){return e},e}function O(){var e=Object(g.a)(["\n  color: #fff;\n"]);return O=function(){return e},e}var C=Object(x.a)(j.a)(O()),k=Object(x.a)(E.a)(w()),F=function(e){var n=e.label,t=e.cart,r=e.removeItemFromCart,i=a.a.useState(null),c=Object(d.a)(i,2),l=c[0],u=c[1];return a.a.createElement(v.a,{position:"static"},a.a.createElement(p.a,null,a.a.createElement(o.a,{flexGrow:1},a.a.createElement(s.a,{variant:"h6"},n)),a.a.createElement(f.a,{onClick:function(e){u(e.currentTarget)},"aria-label":"show shopping cart","aria-controls":"shopping-cart-menu","aria-haspopup":"true"},a.a.createElement(m.a,{badgeContent:null===t||void 0===t?void 0:t.length,color:"error"},a.a.createElement(C,null))),a.a.createElement(k,{id:"cart",anchorEl:l,open:Boolean(l),onClose:function(){u(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},!!(null===t||void 0===t?void 0:t.length)&&(null===t||void 0===t?void 0:t.map((function(e,n){return a.a.createElement("div",{className:"cart-item",key:n},a.a.createElement(s.a,null,"".concat(null===e||void 0===e?void 0:e.manufacturer," ").concat(null===e||void 0===e?void 0:e.model," ")),a.a.createElement(f.a,{onClick:function(){return r(e)},"aria-label":"remove from shopping cart"},a.a.createElement(b.a,{color:"error"})))}))),!(null===t||void 0===t?void 0:t.length)&&a.a.createElement(o.a,{display:"flex",justifyContent:"center",alignItems:"center",pr:"20px"},a.a.createElement(s.a,null,"Your cart is empty.")))))};F.defaultProps={};var N=Object(l.b)((function(e){return{cart:e.cart}}),(function(e){return{removeItemFromCart:function(n){e({type:"remove-item-from-cart",data:n})}}}))(F),I=t(146),R=t(144),A=t(150);function P(){var e=Object(g.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  padding-bottom: 10px;\n"]);return P=function(){return e},e}function T(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  select {\n    border-radius: 4px;\n    height: 20px;\n  }\n"]);return T=function(){return e},e}function L(){var e=Object(g.a)(["\n  background-color: #f1f1f1;\n  height: 100%;\n  min-width: 200px;\n  padding: 0 10px;\n"]);return L=function(){return e},e}var z=x.a.div(L()),B=x.a.div(T()),S=x.a.span(P()),M=[{label:"R0",value:"0"},{label:"R200 000",value:"200000"},{label:"R400 000",value:"400000"},{label:"R600 000",value:"600000"},{label:"R800 000",value:"800000"},{label:"R1 000 000",value:"1000000"},{label:"R1 200 000",value:"1200000"},{label:"R1 400 000",value:"1400000"},{label:"R1 600 000",value:"1600000"}],W=function(e){var n=e.filters,t=e.updateFilter,r=e.resetFilters,i=M.find((function(e){return(null===e||void 0===e?void 0:e.value)===(null===n||void 0===n?void 0:n.priceFrom)})),c=M.find((function(e){return(null===e||void 0===e?void 0:e.value)===(null===n||void 0===n?void 0:n.priceTo)}));return a.a.createElement(z,{className:"filters"},a.a.createElement(B,null,a.a.createElement(A.a,{value:null===n||void 0===n?void 0:n.manufacturer,onChange:function(e,n){t("manufacturer",n)},disableClearable:!0,options:["Any","Porsche","Nissan","BMW","Audi","Mercedes-Benz","Ford"],renderInput:function(e){return a.a.createElement(I.a,Object.assign({},e,{label:"Manufacturer"}))}})),a.a.createElement(B,null,a.a.createElement(A.a,{value:null===n||void 0===n?void 0:n.body,onChange:function(e,n){t("body",n)},disableClearable:!0,options:["Any","Coup\xe9","Sedan","SUV"],renderInput:function(e){return a.a.createElement(I.a,Object.assign({},e,{label:"Body Style"}))}})),a.a.createElement(B,null,a.a.createElement(S,null,"Price Range")),a.a.createElement(B,null,a.a.createElement(A.a,{value:i,onChange:function(e,n){t("priceFrom",null===n||void 0===n?void 0:n.value)},disableClearable:!0,options:M,getOptionLabel:function(e){return null===e||void 0===e?void 0:e.label},renderInput:function(e){return a.a.createElement(I.a,Object.assign({},e,{label:"Price From"}))}})),a.a.createElement(B,null,a.a.createElement(A.a,{value:c,onChange:function(e,n){t("priceTo",null===n||void 0===n?void 0:n.value)},disableClearable:!0,options:M,getOptionLabel:function(e){return null===e||void 0===e?void 0:e.label},renderInput:function(e){return a.a.createElement(I.a,Object.assign({},e,{label:"Price To"}))}})),a.a.createElement(B,null,a.a.createElement(R.a,{variant:"contained",onClick:r},"Reset")))};W.defaultProps={};var V=Object(l.b)((function(e){return{filters:e.filters}}),(function(e){return{updateFilter:function(n,t){e({type:"update-filter",data:{field:n,value:t}})},resetFilters:function(){e({type:"reset-filters"})}}}))(W),_=t(78),J=t.n(_);function $(){var e=Object(g.a)(["\n  border-radius: 4px;\n  box-shadow: 0 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12);\n  display: flex;\n  margin: 10px 20px;\n  max-width: 1200px;\n  max-height: 180px;\n  \n  img {\n    height: 180px;\n    min-width: 350px;\n    object-fit: cover;\n    border-radius: 5px 0 0 5px;\n  }\n\n  .vehicle-listing-body {\n    margin: 15px 20px;\n    width: 100%;\n    display: flex;\n    \n    .description {\n      flex-grow: 1;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: normal;\n    }\n\n    .add-to-cart {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      align-items: flex-end;\n      min-width: 150px;\n      margin-left: 15px;\n\n      .vehicle-price {\n        span {\n          font-size: 25px;\n        }\n      }\n    }\n  }\n"]);return $=function(){return e},e}var D=x.a.div($()),G=function(e){var n=e.vehicle,t=e.addItemToCart,r="".concat(null===n||void 0===n?void 0:n.manufacturer,"_").concat(null===n||void 0===n?void 0:n.model),i="".concat("https://warpfrontendtestserver.herokuapp.com/public","/").concat(r,".jpg");return a.a.createElement(D,null,a.a.createElement("img",{className:"vehicle-image",src:i,alt:r}),a.a.createElement("div",{className:"vehicle-listing-body"},a.a.createElement("article",{className:"description"},a.a.createElement(s.a,{variant:"h6"},null===n||void 0===n?void 0:n.manufacturer," ",null===n||void 0===n?void 0:n.model," - ",null===n||void 0===n?void 0:n.body),a.a.createElement("div",{className:"vehicle-summary"},a.a.createElement(s.a,{variant:"caption"},null===n||void 0===n?void 0:n.summary))),a.a.createElement("section",{className:"add-to-cart"},a.a.createElement("div",{className:"vehicle-price"},a.a.createElement("span",null,"R".concat(null===n||void 0===n?void 0:n.price))),a.a.createElement("div",{className:"add-to-cart"},a.a.createElement(R.a,{variant:"contained",onClick:function(){return t(n)},startIcon:a.a.createElement(J.a,null),color:"primary",size:"small"},"Add to cart")))))};G.defaultProps={};var U=Object(l.b)(null,(function(e){return{addItemToCart:function(n){e({type:"add-item-to-cart",data:n})}}}))(G);function Y(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  height: 100%;\n\n  .app-body {\n    display: flex;\n    flex-grow: 1;\n    overflow: hidden;\n  }\n  \n  .vehicle-listings {\n    display: flex;\n    flex-direction: column;\n    overflow: scroll;\n    flex-grow: 1;\n    align-items: center;\n\n  }\n"]);return Y=function(){return e},e}var Z=x.a.div(Y()),q=function(e){var n=e.vehicles,t=e.isLoading,i=e.hasError,c=e.fetchVehicles;return Object(r.useEffect)((function(){c()}),[c]),a.a.createElement(Z,null,a.a.createElement(N,{label:"We Show Cars!"}),a.a.createElement("aside",{className:"app-body"},a.a.createElement(V,null),a.a.createElement("section",{className:"vehicle-listings"},t&&a.a.createElement(o.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"70%"},a.a.createElement(u.a,{size:100})),!t&&!i&&(null===n||void 0===n?void 0:n.map((function(e){return a.a.createElement(U,{vehicle:e,key:null===e||void 0===e?void 0:e.id})}))),i&&a.a.createElement(o.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"70%"},a.a.createElement(s.a,{variant:"h5"},"Failed to load vehicles.")))))};q.defaultProps={};var H=Object(l.b)((function(e){var n=e.vehicles,t=e.isLoading,r=e.hasError;return{vehicles:function(e,n){var t=e;return Object.entries(n).forEach((function(e){var n=Object(d.a)(e,2),r=n[0],a=n[1];if(!["Any","0"].includes(a))if(["manufacturer","body"].includes(r))t=t.filter((function(e){return(null===e||void 0===e?void 0:e[r])===a}));else if("priceFrom"===r){var i=Number(a);t=t.filter((function(e){return(null===e||void 0===e?void 0:e.price)>=i}))}else if("priceTo"===r){var c=Number(a);t=t.filter((function(e){return(null===e||void 0===e?void 0:e.price)<=c}))}})),t}(n,e.filters),isLoading:t,hasError:r}}),(function(e){return{fetchVehicles:function(){e({type:"fetch-vehicles-start"})}}}))(q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=t(29),Q=t(79),X=t(80),ee=t(54),ne=t(20),te={vehicles:[],message:"",isLoading:!1,hasError:!1,filters:{manufacturer:"Any",body:"Any",priceFrom:"0",priceTo:"0"},cart:[]},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.data;switch(t){case"fetch-vehicles-start":return Object(ne.a)({},e,{isLoading:!0,hasError:!1,message:""});case"fetch-vehicles-success":return Object(ne.a)({},e,{vehicles:r,isLoading:!1,hasError:!1});case"fetch-vehicles-error":return Object(ne.a)({},e,{isLoading:!1,hasError:!0,message:""});case"update-filter":return Object(ne.a)({},e,{filters:Object(ne.a)({},e.filters,Object(ee.a)({},null===r||void 0===r?void 0:r.field,null===r||void 0===r?void 0:r.value))});case"reset-filters":return Object(ne.a)({},e,{filters:{manufacturer:"Any",body:"Any",priceFrom:"0",priceTo:"0"}});case"add-item-to-cart":return Object(ne.a)({},e,{cart:[].concat(Object(X.a)(e.cart),[r])});case"remove-item-from-cart":var a,i=null===e||void 0===e||null===(a=e.cart)||void 0===a?void 0:a.filter((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===r||void 0===r?void 0:r.id)}));return Object(ne.a)({},e,{cart:i});default:return e}},ae=t(81),ie=Object(ae.a)(),ce=t(17),le=t.n(ce),oe=t(33),ue=t(38),se=function(){var e=Object(oe.a)(le.a.mark((function e(){var n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://warpfrontendtestserver.herokuapp.com/v1/vehicles",e.next=3,fetch("https://warpfrontendtestserver.herokuapp.com/v1/vehicles");case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(oe.a)(le.a.mark((function e(n){var t,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://en.wikipedia.org/api/rest_v1/page/summary/".concat(n,"?redirect=true"),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ve=le.a.mark(he),pe=le.a.mark(be),fe=function(e){for(var n=e;(null===(t=n)||void 0===t?void 0:t.length)>210;){var t,r=n.replace(/([.?!])\s*(?=[A-Z])/g,"$1|").split("|");r.pop(),n=r.join(" ")}return n},me=function(){var e=Object(oe.a)(le.a.mark((function e(n){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.map(function(){var e=Object(oe.a)(le.a.mark((function e(n){var t,r,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(null===n||void 0===n?void 0:n.manufacturer,"_").concat(null===n||void 0===n?void 0:n.model),e.next=3,de(t);case 3:return r=e.sent,a=fe(null===r||void 0===r?void 0:r.extract),e.abrupt("return",Object(ne.a)({},n,{summary:a}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function he(){var e,n;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ue.a)(se);case 3:return e=t.sent,t.next=6,Object(ue.a)(me,e);case 6:return n=t.sent,t.next=9,Object(ue.b)({type:"fetch-vehicles-success",data:n});case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(0),console.error(t.t0),t.next=17,Object(ue.b)({type:"fetch-vehicles-error"});case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),ve,null,[[0,12]])}function be(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.c)(["fetch-vehicles-start"],he);case 2:case"end":return e.stop()}}),pe)}var ge=be,xe=Object(K.createStore)(re,Object(Q.composeWithDevTools)(Object(K.applyMiddleware)(ie)));ie.run(ge),c.a.render(a.a.createElement(l.a,{store:xe},a.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,n,t){e.exports=t(105)},97:function(e,n,t){}},[[92,1,2]]]);
//# sourceMappingURL=main.d90c39ad.chunk.js.map